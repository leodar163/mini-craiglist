DEFINE TABLE user SCHEMAFULL;

DEFINE FIELD email ON user TYPE string ASSERT string::is::email($value);
DEFINE FIELD password ON user TYPE string;

DEFINE INDEX email_unique ON user FIELDS email UNIQUE;


DEFINE TABLE session SCHEMAFULL;

DEFINE FIELD user ON session TYPE record(user);
DEFINE FIELD expiresAt ON session TYPE datetime;

DEFINE INDEX session_user_index ON session FIELDS user;